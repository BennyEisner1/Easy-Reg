<% layout('layouts/boilerplate') %>

<div class="container mt-5">
    <h1 class="mb-4">Register</h1>
    <div class="form-container">
        <form action="/register" method="POST" id="registration-form">
            <div class="form-group">
                <input type="email" id="email" name="email" class="form-control" placeholder="Email" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                <i class="fas fa-envelope input-icon"></i>
            </div>
            <div class="form-group">
                <input type="text" id="username" name="username" class="form-control" placeholder="Username" required>
                <i class="fas fa-user input-icon"></i>
            </div>
            <div class="form-group">
                <input type="password" id="password" name="password" class="form-control" placeholder="Password" required minlength="8">
                <i class="fas fa-lock input-icon"></i>
            </div>
            <button type="submit" class="btn btn-primary btn-block">Register</button>
        </form>
    </div>
</div>

<script> 
    document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');

    form.addEventListener('submit', function(event) {
        let isValid = true;

        // Email validation
        if (!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(emailInput.value)) {
            alert('Please enter a valid email address');
            isValid = false;
        }

        // Password validation
        if (passwordInput.value.length < 8) {
            alert('Password must be at least 8 characters long');
            isValid = false;
        }

        if (!isValid) {
            event.preventDefault();
        }
    });
});
</script>

<script>
    
</script>